{
  "instance_id": "scikit-learn__scikit-learn-15100",
  "status": "completed",
  "patch": "diff --git a/sklearn/feature_extraction/text.py b/sklearn/feature_extraction/text.py\nindex bb5a9d646..11236d958 100644\n--- a/sklearn/feature_extraction/text.py\n+++ b/sklearn/feature_extraction/text.py\n@@ -130,10 +130,7 @@ def strip_accents_unicode(s):\n         ASCII equivalent.\n     \"\"\"\n     normalized = unicodedata.normalize('NFKD', s)\n-    if normalized == s:\n-        return s\n-    else:\n-        return ''.join([c for c in normalized if not unicodedata.combining(c)])\n+    return ''.join([c for c in normalized if not unicodedata.combining(c)])\n \n \n def strip_accents_ascii(s):\n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-17T01:35:27.156767",
  "end_time": "2026-01-17T01:37:27.547515",
  "duration_seconds": 120.390748,
  "error_message": null,
  "workspace_path": "./workspaces/scikit-learn__scikit-learn-15100",
  "epic_comments": [
    {
      "epic_id": "7c5a5a24-5837-4954-a097-bd9eb8afb43b",
      "epic_title": "Fix: scikit-learn__scikit-learn-15100",
      "comment_id": "d0d0bcfd-128a-4fde-acb6-fd347250565b",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\nThe `strip_accents_unicode` function had a conditional short-circuit that returned strings unchanged when they were already in NFKD form. This prevented the function from removing combining characters (accents) from such strings.\n\nThe fix removes the `if normalized == s: return s` branch, so that combining characters are always filtered out regardless of whether the input string changed during normalization.\n\n## Files Modified\n- `sklearn/feature_extraction/text.py`: Removed lines 133-135 (the conditional branch), keeping only the normalization and combining character filtering logic.\n\n## Test Results\n- **Test file:** `sklearn/feature_extraction/tests/test_text.py`\n- **Baseline (before fix):** 107 passed, 4 xfailed, 5 warnings\n- **After fix:** 107 passed, 4 xfailed, 5 warnings\n- **Regression check:** No new failures introduced\n\n## Additional Verification\nTested the exact example from the bug report:\n- `s1 = chr(241)` (composed \u00f1) \u2192 'n' \u2713\n- `s2 = chr(110) + chr(771)` (decomposed NFKD) \u2192 'n' \u2713\n- Both now correctly normalize to 'n'\n\n## Concerns\nNone - this is a minimal, focused fix that matches the solution proposed in the issue hints.",
      "created_at": "2026-01-17T00:37:14.988Z"
    }
  ]
}