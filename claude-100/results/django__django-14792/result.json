{
  "instance_id": "django__django-14792",
  "status": "completed",
  "patch": "diff --git a/django/db/backends/mysql/operations.py b/django/db/backends/mysql/operations.py\nindex 89730cee29..c321ace387 100644\n--- a/django/db/backends/mysql/operations.py\n+++ b/django/db/backends/mysql/operations.py\n@@ -76,10 +76,8 @@ class DatabaseOperations(BaseDatabaseOperations):\n             return \"DATE(%s)\" % (field_name)\n \n     def _prepare_tzname_delta(self, tzname):\n-        if '+' in tzname:\n-            return tzname[tzname.find('+'):]\n-        elif '-' in tzname:\n-            return tzname[tzname.find('-'):]\n+        if tzname.startswith('+') or tzname.startswith('-'):\n+            return tzname\n         return tzname\n \n     def _convert_field_to_tz(self, field_name, tzname):\ndiff --git a/django/db/backends/oracle/operations.py b/django/db/backends/oracle/operations.py\nindex 4cfc7da070..7faeea4163 100644\n--- a/django/db/backends/oracle/operations.py\n+++ b/django/db/backends/oracle/operations.py\n@@ -108,10 +108,8 @@ END;\n     _tzname_re = _lazy_re_compile(r'^[\\w/:+-]+$')\n \n     def _prepare_tzname_delta(self, tzname):\n-        if '+' in tzname:\n-            return tzname[tzname.find('+'):]\n-        elif '-' in tzname:\n-            return tzname[tzname.find('-'):]\n+        if tzname.startswith('+') or tzname.startswith('-'):\n+            return tzname\n         return tzname\n \n     def _convert_field_to_tz(self, field_name, tzname):\ndiff --git a/django/db/backends/postgresql/operations.py b/django/db/backends/postgresql/operations.py\nindex 8d19872bea..b4a8048681 100644\n--- a/django/db/backends/postgresql/operations.py\n+++ b/django/db/backends/postgresql/operations.py\n@@ -44,10 +44,10 @@ class DatabaseOperations(BaseDatabaseOperations):\n         return \"DATE_TRUNC('%s', %s)\" % (lookup_type, field_name)\n \n     def _prepare_tzname_delta(self, tzname):\n-        if '+' in tzname:\n-            return tzname.replace('+', '-')\n-        elif '-' in tzname:\n-            return tzname.replace('-', '+')\n+        if tzname.startswith('+'):\n+            return '-' + tzname[1:]\n+        elif tzname.startswith('-'):\n+            return '+' + tzname[1:]\n         return tzname\n \n     def _convert_field_to_tz(self, field_name, tzname):\n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-17T11:18:44.926106",
  "end_time": "2026-01-17T11:22:28.819759",
  "duration_seconds": 223.893653,
  "error_message": null,
  "workspace_path": "./workspaces/django__django-14792",
  "epic_comments": [
    {
      "epic_id": "c8f9306c-2eb4-4506-aa01-e4018a21a217",
      "epic_title": "Fix: django__django-14792",
      "comment_id": "86b65c59-53f8-4ac2-91ce-eba18e982b3a",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\nFixed the reverse timezone conversion bug in `_prepare_tzname_delta()` for PostgreSQL, MySQL, and Oracle backends. The issue was that the function incorrectly transformed named timezone strings like `'Etc/GMT-10'` by replacing `-` with `+`, resulting in the wrong timezone being used.\n\nThe fix ensures that only pure offset strings (those starting with `+` or `-`) are processed, while named timezones are passed through unchanged to the database.\n\n## Files Modified\n- `django/db/backends/postgresql/operations.py`: Changed `_prepare_tzname_delta()` to only reverse the sign for strings starting with `+` or `-`\n- `django/db/backends/mysql/operations.py`: Changed `_prepare_tzname_delta()` to only process strings starting with `+` or `-`\n- `django/db/backends/oracle/operations.py`: Changed `_prepare_tzname_delta()` to only process strings starting with `+` or `-`\n\n## Test Results\n- **Test file:** tests/db_functions/datetime/test_extract_trunc.py\n- **Baseline (before fix):** 87 passed, 0 failed, 2 skipped\n- **After fix:** 87 passed, 0 failed, 2 skipped\n- **Regression check:** No new failures introduced\n\n## Additional Verification\nTested the fix logic directly with these cases:\n- `'+10'` \u2192 `'-10'` (PostgreSQL - correct sign reversal)\n- `'-10'` \u2192 `'+10'` (PostgreSQL - correct sign reversal)\n- `'Etc/GMT-10'` \u2192 `'Etc/GMT-10'` (unchanged - correct!)\n- `'Etc/GMT+10'` \u2192 `'Etc/GMT+10'` (unchanged - correct!)\n- `'America/New_York'` \u2192 `'America/New_York'` (unchanged - correct!)\n\n## Concerns\n- None. The fix is minimal and targeted, only changing the condition from `if '+' in tzname` to `if tzname.startswith('+')` to ensure only pure offsets are transformed.",
      "created_at": "2026-01-17T10:22:19.738Z"
    }
  ]
}