diff --git a/sphinx/ext/graphviz.py b/sphinx/ext/graphviz.py
index 8b21d9e3b..a2ec1122b 100644
--- a/sphinx/ext/graphviz.py
+++ b/sphinx/ext/graphviz.py
@@ -218,7 +218,7 @@ class GraphvizSimple(SphinxDirective):
 
 
 def fix_svg_relative_paths(self: SphinxTranslator, filepath: str) -> None:
-    """Change relative links in generated svg files to be relative to imgpath."""
+    """Change relative links in generated svg files to be relative to imagedir."""
     tree = ET.parse(filepath)  # NoQA: S314
     root = tree.getroot()
     ns = {'svg': 'http://www.w3.org/2000/svg', 'xlink': 'http://www.w3.org/1999/xlink'}
@@ -237,7 +237,7 @@ def fix_svg_relative_paths(self: SphinxTranslator, filepath: str) -> None:
         old_path = path.join(self.builder.outdir, url)
         new_path = path.relpath(
             old_path,
-            start=path.join(self.builder.outdir, self.builder.imgpath),
+            start=path.join(self.builder.outdir, self.builder.imagedir),
         )
         modified_url = urlunsplit((scheme, hostname, new_path, query, fragment))
 
diff --git a/sphinx/ext/inheritance_diagram.py b/sphinx/ext/inheritance_diagram.py
index 6e3985512..bad29ae4f 100644
--- a/sphinx/ext/inheritance_diagram.py
+++ b/sphinx/ext/inheritance_diagram.py
@@ -33,6 +33,7 @@ from __future__ import annotations
 import builtins
 import hashlib
 import inspect
+import posixpath
 import re
 from collections.abc import Iterable
 from importlib import import_module
@@ -413,12 +414,15 @@ def html_visit_inheritance_diagram(self: HTML5Translator, node: inheritance_diag
     for child in pending_xrefs:
         if child.get('refuri') is not None:
             if graphviz_output_format == 'SVG':
-                urls[child['reftitle']] = "../" + child.get('refuri')
+                # Convert refuri from document-relative to output-root-relative
+                # so fix_svg_relative_paths can correctly resolve it from _images/
+                current_dir = posixpath.dirname(current_filename)
+                urls[child['reftitle']] = posixpath.join(current_dir, child.get('refuri'))
             else:
                 urls[child['reftitle']] = child.get('refuri')
         elif child.get('refid') is not None:
             if graphviz_output_format == 'SVG':
-                urls[child['reftitle']] = '../' + current_filename + '#' + child.get('refid')
+                urls[child['reftitle']] = current_filename + '#' + child.get('refid')
             else:
                 urls[child['reftitle']] = '#' + child.get('refid')
 
diff --git a/tox.ini b/tox.ini
index a3dc56211..c76147de3 100644
--- a/tox.ini
+++ b/tox.ini
@@ -24,7 +24,7 @@ setenv =
     PYTHONWARNINGS = error
     PYTEST_ADDOPTS = {env:PYTEST_ADDOPTS:} --color yes
 commands=
-    python -X dev -X warn_default_encoding -m pytest --durations 25 {posargs}
+    python -X dev -X warn_default_encoding -m pytest -rA --durations 25 {posargs}
 
 [testenv:docs]
 basepython = python3
