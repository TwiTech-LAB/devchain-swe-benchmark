{
  "instance_id": "django__django-14155",
  "status": "completed",
  "patch": "diff --git a/django/urls/resolvers.py b/django/urls/resolvers.py\nindex 9b00e24509..775b355bad 100644\n--- a/django/urls/resolvers.py\n+++ b/django/urls/resolvers.py\n@@ -31,9 +31,20 @@ from .utils import get_callable\n \n class ResolverMatch:\n     def __init__(self, func, args, kwargs, url_name=None, app_names=None, namespaces=None, route=None, tried=None):\n-        self.func = func\n-        self.args = args\n-        self.kwargs = kwargs\n+        # Unwrap functools.partial to get the underlying function and merge args/kwargs\n+        if isinstance(func, functools.partial):\n+            self.func = func.func\n+            # Merge args: partial's bound args come first, then the provided args\n+            self.args = func.args + args\n+            # Merge kwargs: partial's bound kwargs are updated with provided kwargs\n+            merged_kwargs = func.keywords.copy()\n+            merged_kwargs.update(kwargs)\n+            self.kwargs = merged_kwargs\n+            func = func.func\n+        else:\n+            self.func = func\n+            self.args = args\n+            self.kwargs = kwargs\n         self.url_name = url_name\n         self.route = route\n         self.tried = tried\n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-31T17:21:07.083132",
  "end_time": "2026-01-31T17:27:49.458754",
  "duration_seconds": 402.375622,
  "error_message": null,
  "workspace_path": "<redacted>",
  "epic_comments": [
    {
      "epic_id": "c26096bc-92bd-41cf-a9ae-440d9e9c046d",
      "epic_title": "Fix: django__django-14155",
      "comment_id": "7c41026a-0f92-4a9e-a417-2a3a08e94ed4",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\n\nModified `ResolverMatch.__init__()` in `django/urls/resolvers.py` to unwrap `functools.partial` objects. When a partial function is passed as the view, the implementation now:\n1. Extracts the underlying function via `func.func`\n2. Merges the partial's bound args with the provided args (partial's args come first)\n3. Merges the partial's bound kwargs with the provided kwargs (provided kwargs can override)\n\nThis ensures that `__repr__()` shows the actual function name instead of just \"functools.partial\", and the combined args/kwargs are properly accessible.\n\n## Files Modified\n- `django/urls/resolvers.py`: Added functools.partial unwrapping logic at the beginning of `ResolverMatch.__init__()`\n\n## Test Results\n\nManual verification tests:\n- \u2705 Partial function is unwrapped to underlying function\n- \u2705 `_func_path` contains the actual function name (not \"partial\")\n- \u2705 Args are merged: partial.args + provided args\n- \u2705 Kwargs are merged: partial.keywords updated with provided kwargs\n- \u2705 Provided kwargs can override partial's kwargs\n- \u2705 Non-partial functions still work (no regression)\n- \u2705 Class-based views (no `__name__` attribute) still work\n- \u2705 Empty args/kwargs handled correctly\n- \u2705 `__repr__()` output now shows the actual function name\n\n## Additional Verification\n\nCreated comprehensive test scripts to verify:\n1. Basic partial unwrapping\n2. Args/kwargs merging behavior\n3. Edge cases (empty args/kwargs, override behavior)\n4. Non-partial functions (regression check)\n5. Class-based views\n6. Realistic Django URL resolution simulation\n\n## Concerns\n\nNone identified. The fix follows the existing pattern used elsewhere in the same file (see `URLPattern.lookup_str` property which also unwraps partials).",
      "created_at": "2026-01-31T16:27:28.092Z"
    }
  ]
}