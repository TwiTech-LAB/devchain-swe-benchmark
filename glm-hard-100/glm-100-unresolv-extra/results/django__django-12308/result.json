{
  "instance_id": "django__django-12308",
  "status": "completed",
  "patch": "diff --git a/django/contrib/admin/utils.py b/django/contrib/admin/utils.py\nindex e4ddc8f017..5242497214 100644\n--- a/django/contrib/admin/utils.py\n+++ b/django/contrib/admin/utils.py\n@@ -398,6 +398,15 @@ def display_for_field(value, field, empty_value_display):\n         return formats.number_format(value)\n     elif isinstance(field, models.FileField) and value:\n         return format_html('<a href=\"{}\">{}</a>', value.url, value)\n+    elif isinstance(field, models.JSONField):\n+        try:\n+            from django.forms import JSONField as JSONFormField\n+            return JSONFormField(\n+                encoder=field.encoder,\n+                decoder=field.decoder,\n+            ).prepare_value(value)\n+        except Exception:\n+            return display_for_value(value, empty_value_display)\n     else:\n         return display_for_value(value, empty_value_display)\n \n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-31T17:36:58.710071",
  "end_time": "2026-01-31T17:41:32.011460",
  "duration_seconds": 273.301389,
  "error_message": null,
  "workspace_path": "<redacted>",
  "epic_comments": [
    {
      "epic_id": "5ab187d6-612a-44e9-95da-e369d0e40773",
      "epic_title": "Fix: django__django-12308",
      "comment_id": "999d1091-9d00-4e13-8ade-d86eb944244e",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\n\nFixed JSONField display in admin when readonly. Previously, JSONField values were displayed as Python dict representation (e.g., `{'foo': 'bar'}`) instead of valid JSON (e.g., `{\"foo\": \"bar\"}`).\n\n## Files Modified\n- `django/contrib/admin/utils.py`: Added special case in `display_for_field` function for JSONField that uses the form field's `prepare_value` method to properly format values as JSON.\n\n## Test Results\n- **Test file:** Manual verification script\n- **After fix:** All tests passed\n- Verified fix works for:\n  - Simple dict: `{\"foo\": \"bar\"}`\n  - Nested dict: `{\"foo\": \"bar\", \"nested\": {\"key\": \"value\"}}`\n  - Lists: `[1, 2, 3]`\n  - Empty dict/list: `{}`, `[]`\n  - None value (returns empty_value_display)\n  - String values: `\"test\"`\n  - Numbers: `42`\n  - Booleans: `true`, `false` (lowercase JSON standard)\n  - Dict with null inside: `{\"key\": null}`\n  - JSONFields with custom encoder/decoder\n\n## Additional Verification\n- Verified existing functionality for other field types still works (CharField, DateField, IntegerField, FloatField, DecimalField, BooleanField, DateTimeField)\n- The fix follows the suggested approach from the issue: using `prepare_value` of the JSONField form field to properly handle InvalidJSONInput cases\n\n## Concerns\n- None. The fix is minimal and focused on the reported issue.",
      "created_at": "2026-01-31T16:41:24.768Z"
    }
  ]
}