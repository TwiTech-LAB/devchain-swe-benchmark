{
  "instance_id": "django__django-15572",
  "status": "completed",
  "patch": "diff --git a/django/template/autoreload.py b/django/template/autoreload.py\nindex 84c8554165..f3fd704031 100644\n--- a/django/template/autoreload.py\n+++ b/django/template/autoreload.py\n@@ -17,7 +17,7 @@ def get_template_directories():\n         if not isinstance(backend, DjangoTemplates):\n             continue\n \n-        items.update(cwd / to_path(dir) for dir in backend.engine.dirs)\n+        items.update(cwd / to_path(dir) for dir in backend.engine.dirs if dir)\n \n         for loader in backend.engine.template_loaders:\n             if not hasattr(loader, \"get_dirs\"):\n@@ -25,7 +25,7 @@ def get_template_directories():\n             items.update(\n                 cwd / to_path(directory)\n                 for directory in loader.get_dirs()\n-                if not is_django_path(directory)\n+                if directory and not is_django_path(directory)\n             )\n     return items\n \n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-16T20:17:14.677961",
  "end_time": "2026-01-16T20:19:57.269398",
  "duration_seconds": 162.591437,
  "error_message": null,
  "workspace_path": "./workspaces/django__django-15572",
  "epic_comments": [
    {
      "epic_id": "db2fccb3-83ba-4b68-a26b-13f43bd80117",
      "epic_title": "Fix: django__django-15572",
      "comment_id": "6426988f-f891-4390-8be3-df1bfac4de6f",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\nFixed the autoreload breaking issue when TEMPLATES DIRS contains an empty string. The problem occurred because `Path('')` joined with `cwd` returns `cwd`, causing the current working directory to be added to template directories. This made `template_changed()` return True for almost any file change, breaking the autoreload mechanism.\n\nThe fix adds a simple truthiness check (`if dir` and `if directory`) to filter out empty strings before they are converted to paths.\n\n## Files Modified\n- `django/template/autoreload.py`: Added filtering for empty strings in `get_template_directories()` function at two locations:\n  - Line 20: Filter empty strings from `backend.engine.dirs`\n  - Line 28: Filter empty strings from `loader.get_dirs()`\n\n## Test Results\n- **Test file:** tests/template_tests/test_autoreloader.py\n- **Baseline (before fix):** 10 passed, 0 failed, 0 errors\n- **After fix:** 10 passed, 0 failed, 0 errors\n- **Regression check:** No new failures introduced\n\n## Additional Verification\n- Confirmed that `cwd / to_path('')` returns `cwd` (the root cause)\n- Confirmed that the filtering logic `if dir` correctly removes empty strings\n\n## Concerns\n- None. The fix is minimal and handles the edge case without affecting normal template directory handling.",
      "created_at": "2026-01-16T19:19:48.097Z"
    }
  ]
}