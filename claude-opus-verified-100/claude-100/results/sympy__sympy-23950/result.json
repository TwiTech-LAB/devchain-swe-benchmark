{
  "instance_id": "sympy__sympy-23950",
  "status": "completed",
  "patch": "diff --git a/sympy/sets/contains.py b/sympy/sets/contains.py\nindex b2d4268d12..91eeed5567 100644\n--- a/sympy/sets/contains.py\n+++ b/sympy/sets/contains.py\n@@ -44,5 +44,12 @@ def binary_symbols(self):\n             if i.is_Boolean or i.is_Symbol or\n             isinstance(i, (Eq, Ne))])\n \n-    def as_set(self):\n-        raise NotImplementedError()\n+    def _eval_as_set(self):\n+        from sympy.sets.conditionset import ConditionSet\n+        element, set_ = self.args\n+        sym = list(self.free_symbols)[0]\n+        # If the element being checked is exactly the symbol, return the set\n+        if element == sym:\n+            return set_\n+        # Otherwise, fall back to ConditionSet\n+        return ConditionSet(sym, self)\n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-17T01:40:25.063087",
  "end_time": "2026-01-17T01:45:06.106643",
  "duration_seconds": 281.043556,
  "error_message": null,
  "workspace_path": "./workspaces/sympy__sympy-23950",
  "epic_comments": [
    {
      "epic_id": "3745054a-a669-4980-8dfe-16ee5bf1d469",
      "epic_title": "Fix: sympy__sympy-23950",
      "comment_id": "4c39f8f8-5796-4b7f-bd89-eef9218801fe",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\nFixed `Contains.as_set()` to return a proper set instead of raising `NotImplementedError`.\n\nThe issue was that `Contains.as_set()` was raising `NotImplementedError`, but according to the expected behavior, `Contains(x, S).as_set()` should return `S` (the set) when `x` is the free symbol.\n\nThe fix replaces the `as_set()` method with `_eval_as_set()` which:\n1. Returns the set directly when the element being checked is exactly the free symbol (e.g., `Contains(x, Reals).as_set()` returns `Reals`)\n2. Falls back to `ConditionSet` for more complex expressions (e.g., `Contains(2*x, Reals).as_set()` returns `ConditionSet(x, Contains(2*x, Reals))`)\n\n## Files Modified\n- `sympy/sets/contains.py`: Replaced `as_set()` method with `_eval_as_set()` that properly returns a set\n\n## Test Results\n- **Test file:** sympy/sets/tests/test_contains.py\n- **Baseline (before fix):** 6 passed\n- **After fix:** 6 passed\n- **Regression check:** No new failures introduced\n\nAdditional tests run:\n- sympy/logic/tests/test_boolalg.py: 80 passed, 1 skipped, 1 expected to fail (same as baseline)\n- sympy/sets/tests/test_conditionset.py: 15 passed\n- sympy/functions/elementary/tests/test_piecewise.py: 59 passed, 4 skipped\n\n## Additional Verification\nVerified the fix works correctly:\n- `Contains(x, Reals).as_set()` returns `Reals` \u2713\n- `Contains(x, Integers).as_set()` returns `Integers` \u2713\n- `Contains(x, Interval(0, 10)).as_set()` returns `Interval(0, 10)` \u2713\n- `Contains(2*x, Reals).as_set()` returns `ConditionSet(x, Contains(2*x, Reals))` \u2713\n- `Piecewise((6, Contains(x, Reals)), (7, True))` works without error \u2713\n- `Contains(x, Reals).as_set().as_relational(x)` works: returns `(-oo < x) & (x < oo)` \u2713\n\n## Concerns\nNone. The fix follows existing patterns in the codebase and handles edge cases correctly.",
      "created_at": "2026-01-17T00:44:58.719Z"
    }
  ]
}