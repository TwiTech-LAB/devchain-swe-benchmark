{
  "instance_id": "scikit-learn__scikit-learn-12682",
  "status": "completed",
  "patch": "diff --git a/sklearn/decomposition/dict_learning.py b/sklearn/decomposition/dict_learning.py\nindex a318c957f..0e4aac775 100644\n--- a/sklearn/decomposition/dict_learning.py\n+++ b/sklearn/decomposition/dict_learning.py\n@@ -127,7 +127,7 @@ def _sparse_encode(X, dictionary, gram, cov=None, algorithm='lasso_lars',\n             lasso_lars = LassoLars(alpha=alpha, fit_intercept=False,\n                                    verbose=verbose, normalize=False,\n                                    precompute=gram, fit_path=False,\n-                                   positive=positive)\n+                                   positive=positive, max_iter=max_iter)\n             lasso_lars.fit(dictionary.T, X.T, Xy=cov)\n             new_code = lasso_lars.coef_\n         finally:\n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-17T01:35:17.164387",
  "end_time": "2026-01-17T01:37:57.774146",
  "duration_seconds": 160.609759,
  "error_message": null,
  "workspace_path": "./workspaces/scikit-learn__scikit-learn-12682",
  "epic_comments": [
    {
      "epic_id": "58121e08-10ae-45f2-a3a9-e8e14d8c8a08",
      "epic_title": "Fix: scikit-learn__scikit-learn-12682",
      "comment_id": "ad25d055-fc48-48b7-b033-45b7d770da5f",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\nThe `_sparse_encode` function in `dict_learning.py` was not passing the `max_iter` parameter to `LassoLars` when using the `lasso_lars` algorithm, causing it to use the default value of 500 instead of the configured value. This resulted in convergence warnings in examples like `plot_sparse_coding.py`.\n\nThe fix adds `max_iter=max_iter` to the `LassoLars` constructor call, ensuring the parameter is properly passed through.\n\n## Files Modified\n- `sklearn/decomposition/dict_learning.py`: Added `max_iter=max_iter` parameter to `LassoLars` constructor (line 130)\n\n## Test Results\n- **Test file:** sklearn/decomposition/tests/test_dict_learning.py\n- **Baseline (before fix):** 66 passed, 1 warning\n- **After fix:** 66 passed, 1 warning\n- **Regression check:** No new failures introduced\n\n## Additional Verification\n- Ran a simple test script with `SparseCoder` using `lasso_lars` algorithm - no convergence warnings produced\n\n## Concerns\n- None. This is a minimal, focused fix that simply passes through an existing parameter that was being ignored.",
      "created_at": "2026-01-17T00:37:44.876Z"
    }
  ]
}