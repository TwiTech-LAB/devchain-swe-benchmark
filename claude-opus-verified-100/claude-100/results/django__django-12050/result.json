{
  "instance_id": "django__django-12050",
  "status": "completed",
  "patch": "diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py\nindex ea51912e8b..90475d6fb9 100644\n--- a/django/db/models/sql/query.py\n+++ b/django/db/models/sql/query.py\n@@ -1073,7 +1073,7 @@ class Query(BaseExpression):\n                         ))\n                 else:\n                     resolved_values.append(sub_value)\n-            value = tuple(resolved_values)\n+            value = type(value)(resolved_values)\n         return value\n \n     def solve_lookup_type(self, lookup):\n",
  "epics_created": 1,
  "epics_completed": 1,
  "start_time": "2026-01-16T20:00:09.719375",
  "end_time": "2026-01-16T20:02:41.346903",
  "duration_seconds": 151.627528,
  "error_message": null,
  "workspace_path": "./workspaces/django__django-12050",
  "epic_comments": [
    {
      "epic_id": "809cb9a5-47f8-42a8-9b56-011d101c8143",
      "epic_title": "Fix: django__django-12050",
      "comment_id": "a81c436a-2b3e-4e77-a26f-5e339f125642",
      "author_name": "Brainstormer",
      "content": "## Fix Summary\nThe `Query.resolve_lookup_value` method was always converting list and tuple values to tuple on line 1076, which broke ORM field types dependent on matching input types (like PickledField). Fixed by using `type(value)(resolved_values)` instead of `tuple(resolved_values)` to preserve the original input type.\n\n## Files Modified\n- `django/db/models/sql/query.py`: Changed line 1076 from `value = tuple(resolved_values)` to `value = type(value)(resolved_values)`\n\n## Test Results\n- **Test file:** queries.test_query\n- **Baseline (before fix):** 10 tests passed\n- **After fix:** 10 tests passed\n- **Regression check:** No new failures introduced\n\n- **Test file:** lookup\n- **Baseline (before fix):** 48 tests passed\n- **After fix:** 48 tests passed\n- **Regression check:** No new failures introduced\n\n## Additional Verification\nVerified the fix works correctly with a custom test script:\n- List input `[1, 2, 3]` \u2192 List output (preserved)\n- Tuple input `(1, 2, 3)` \u2192 Tuple output (preserved)\n\n## Concerns\n- None. The fix is minimal and focused on the root cause while preserving backward compatibility for tuple inputs.",
      "created_at": "2026-01-16T19:02:33.825Z"
    }
  ]
}